# Phase 6b 설계 문서: Thalamus (시상)

> **Genesis Brain Project - Phase 6b: Sensory Gating & Attention**
>
> 날짜: 2025-01-31
> 상태: **완료**

---

## 1. 목표

시상(Thalamus)을 구현하여 **감각 게이팅(Sensory Gating)**과 **주의 집중(Attention)**을 추가한다.

### 1.1 생물학적 역할

시상은 뇌의 "중계소(Relay Station)"로서:
- **감각 중계(Sensory Relay)**: 모든 감각 정보가 피질로 가기 전 시상 통과
- **게이팅(Gating)**: 중요한 자극만 통과, 불필요한 자극 차단
- **주의 집중(Attention)**: 현재 목표에 관련된 정보 증폭
- **각성 조절(Arousal)**: 뇌 전체 활성화 수준 조절

### 1.2 Phase 6b 목표

```
╔═══════════════════════════════════════════════════════════════╗
║  Phase 6b 목표 (Thalamus)                                     ║
╠═══════════════════════════════════════════════════════════════╣
║  1. 감각 게이팅 (Sensory Gating)                              ║
║     - 배고플 때: 음식 감각 증폭, 다른 감각 감소               ║
║     - 공포 시: 위험 감각 증폭, 음식 감각 감소                 ║
║                                                               ║
║  2. 주의 집중 (Selective Attention)                           ║
║     - PFC Goal → Thalamus 조절                                ║
║     - 목표 관련 감각만 선택적 증폭                            ║
║                                                               ║
║  3. 각성 수준 (Arousal Level)                                 ║
║     - 낮은 에너지: 높은 각성 (음식 탐색 모드)                 ║
║     - 높은 에너지: 낮은 각성 (휴식 모드)                      ║
╚═══════════════════════════════════════════════════════════════╝
```

---

## 2. 아키텍처

### 2.1 시상 핵 구조 (생물학적)

```
┌─────────────────────────────────────────────────────────────┐
│                    Thalamus (시상)                          │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐          │
│  │    VPL      │  │    LGN      │  │    MGN      │          │
│  │ (체성감각)  │  │   (시각)    │  │   (청각)    │          │
│  └──────┬──────┘  └──────┬──────┘  └──────┬──────┘          │
│         │                │                │                 │
│         └────────────────┼────────────────┘                 │
│                          │                                  │
│                          ▼                                  │
│                  ┌──────────────┐                           │
│                  │     TRN      │ ← Thalamic Reticular      │
│                  │ (망상핵)     │   Nucleus (억제)          │
│                  └──────────────┘                           │
│                          │                                  │
│         ┌────────────────┼────────────────┐                 │
│         │                │                │                 │
│         ▼                ▼                ▼                 │
│      Cortex          Cortex          Cortex                 │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 2.2 단순화된 Phase 6b 구조

```
┌─────────────────────────────────────────────────────────────┐
│                 Phase 6b 구현 (단순화)                      │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌─────────────────────────────────────────────────────┐    │
│  │           Thalamic Relay (시상 중계핵)               │    │
│  │                  (200 뉴런)                          │    │
│  │   - Food Relay (100): 음식 감각 중계                 │    │
│  │   - Danger Relay (100): 위험 감각 중계               │    │
│  └─────────────────────────┬───────────────────────────┘    │
│                            │                                │
│                            ▼                                │
│  ┌─────────────────────────────────────────────────────┐    │
│  │           TRN (Thalamic Reticular Nucleus)           │    │
│  │                  (100 뉴런)                          │    │
│  │   - 억제성 게이팅                                    │    │
│  │   - PFC/Limbic에서 조절 받음                         │    │
│  └─────────────────────────┬───────────────────────────┘    │
│                            │                                │
│                            ▼                                │
│  ┌─────────────────────────────────────────────────────┐    │
│  │              Arousal (각성 조절)                     │    │
│  │                  (50 뉴런)                           │    │
│  │   - 에너지 레벨 기반 전체 활성화 조절                │    │
│  └─────────────────────────────────────────────────────┘    │
│                                                             │
│  총 뉴런: 350개                                             │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 2.3 연결 구조

```
입력 (감각):
  Food Eye L/R ─────────────► Food Relay
  Pain Eye L/R ─────────────► Danger Relay
  Wall Eye L/R ─────────────► Danger Relay

게이팅 조절:
  Hunger ──────────────────► TRN (Food Relay 개방)
  Fear ────────────────────► TRN (Danger Relay 개방)
  Goal_Food ───────────────► TRN (Food 주의 집중)
  Goal_Safety ─────────────► TRN (Danger 주의 집중)

출력 (증폭된 감각):
  Food Relay ──────────────► Hippocampus, Motor (증폭된 음식 신호)
  Danger Relay ────────────► Amygdala, Motor (증폭된 위험 신호)

각성:
  Low Energy ──────────────► Arousal (높은 각성)
  Arousal ─────────────────► 전체 시스템 활성화 조절
```

---

## 3. 메커니즘

### 3.1 감각 게이팅 (Sensory Gating)

**TRN (Thalamic Reticular Nucleus) 역할**:
- 억제성 뉴런으로 구성
- Relay 뉴런을 선택적으로 억제
- 내부 상태에 따라 게이트 개폐

```python
# 배고플 때: Food Relay 개방, Danger Relay 부분 차단
Hunger → TRN (Food): 억제 감소 → Food 신호 통과
Hunger → TRN (Danger): 억제 증가 → Danger 신호 감소

# 공포 시: 반대
Fear → TRN (Danger): 억제 감소 → Danger 신호 통과
Fear → TRN (Food): 억제 증가 → Food 신호 감소
```

### 3.2 주의 집중 (Selective Attention)

**PFC Goal → Thalamus 조절**:
- Goal_Food 활성화 시 Food Relay 증폭
- Goal_Safety 활성화 시 Danger Relay 증폭

```python
# 목표 지향 주의
Goal_Food → Food Relay: 직접 흥분
Goal_Food → TRN (Food): 억제 감소 (이중 증폭)

Goal_Safety → Danger Relay: 직접 흥분
Goal_Safety → TRN (Danger): 억제 감소
```

### 3.3 각성 수준 (Arousal Level)

**에너지 기반 각성**:
- 낮은 에너지 → 높은 각성 (활발한 탐색)
- 높은 에너지 → 낮은 각성 (휴식)

```python
# Arousal 조절
Low_Energy → Arousal: 강한 흥분 (배고프면 활발)
High_Energy → Arousal: 억제 (배부르면 휴식)

# Arousal → 전체 시스템
Arousal → Motor: 활동 수준 조절
Arousal → Relay: 감각 민감도 조절
```

---

## 4. 구현 계획

### 4.1 뉴런 집단

| 집단 | 뉴런 수 | 역할 |
|------|---------|------|
| Food Relay | 100 | 음식 감각 중계 |
| Danger Relay | 100 | 위험 감각 중계 |
| TRN | 100 | 억제성 게이팅 |
| Arousal | 50 | 각성 수준 조절 |
| **합계** | **350** | |

### 4.2 시냅스 연결

```python
# 감각 → Relay
Food_Eye → Food_Relay (증폭 중계)
Pain_Eye + Wall_Eye → Danger_Relay (증폭 중계)

# 내부 상태 → TRN (게이팅)
Hunger → TRN (억제): Food 게이트 개방
Fear → TRN (억제): Danger 게이트 개방

# TRN → Relay (억제)
TRN → Food_Relay (억제)
TRN → Danger_Relay (억제)

# Goal → Relay (주의 집중)
Goal_Food → Food_Relay (증폭)
Goal_Safety → Danger_Relay (증폭)

# Relay → 출력
Food_Relay → Hippocampus, Motor
Danger_Relay → Amygdala, Motor

# 각성 조절
Low_Energy → Arousal
Arousal → Motor, Relay
```

---

## 5. 예상 효과

### 5.1 행동 변화

| 상황 | Phase 6a (소뇌만) | Phase 6b (시상 추가) |
|------|-------------------|----------------------|
| 배고플 때 | 모든 감각 동일 | 음식 감각 증폭 |
| 위험 근처 | 모든 감각 동일 | 위험 감각 증폭 |
| 에너지 높음 | 동일 활동 | 휴식 모드 |

### 5.2 성능 기대

```
╔═══════════════════════════════════════════════════════════════╗
║  Phase 6b 성능 기대치                                         ║
╠═══════════════════════════════════════════════════════════════╣
║  생존율:       80% → 85%+ (선택적 주의로 효율 증가)           ║
║  Pain Avoid:   95.7% → 97%+ (위험 감각 증폭)                  ║
║  음식 획득:    더 효율적 (배고플 때 음식 집중)                ║
╚═══════════════════════════════════════════════════════════════╝
```

---

## 6. 뉴런 구성 요약

```
Phase 6b 추가 뉴런: 350개

전체 뉴런 수: 7,650 (Phase 6a) + 350 (Phase 6b) = 8,000 뉴런
```

---

*Phase 6b 설계 문서*
*2025-01-31*
